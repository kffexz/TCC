<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="../assets/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gym Warriors - Treinos</title>

  <link rel="stylesheet" href="style/treinos.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  
</head>
<body>

  <div class="container">
    <h1>Treino do Dia</h1>
    <h2 id="treinoDoDia">Clique no bot√£o para ver o treino do dia</h2>
    <button onclick="mostrarProximoTreino()">Pr√≥ximo Treino</button>
  </div>

  <div id="exerciciosContainer"></div>

  <!-- üü¢ Barra de Navega√ß√£o Inferior -->
  <nav class="tab-bar">
    <a href="home.html" style="text-decoration: none;" class="tab">
      <ion-icon name="home-outline"></ion-icon>
      <span>Home</span>
    </a>
    <a href="treinos.html" style="text-decoration: none;" class="tab active">
      <ion-icon name="barbell-outline"></ion-icon>
      <span>Treinos</span>
    </a>
    <a href="progresso.html" style="text-decoration: none;" class="tab">
      <ion-icon name="stats-chart-outline"></ion-icon>
      <span>Progresso</span>
    </a>
    <a href="perfil.html" style="text-decoration: none;" class="tab">
      <ion-icon name="person-outline"></ion-icon>
      <span>Perfil</span>
    </a>
  </nav>

  <!-- √çcones do Ionic -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <script>
    // ================================
    // üîπ CONFIGURA√á√ÉO DO FIREBASE
    // ================================
    const firebaseConfig = {
      apiKey: "AIzaSyAbVJUTwovjKHua6OWP_yIncKYytEEwPfo",
      authDomain: "tcc-994f7.firebaseapp.com",
      projectId: "tcc-994f7",
      storageBucket: "tcc-994f7.firebasestorage.app",
      messagingSenderId: "848443566233",
      appId: "1:848443566233:web:b9be3b2beccb027fa53008",
      measurementId: "G-SGB2LYMT17"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // ================================
    // üîπ EXERC√çCIOS DISPON√çVEIS
    // ================================
    
const exercicios = {
    pernas: [
        { equipamento: "Halteres",  exercicio: "Agachamento leve", foco: "Resist√™ncia" },
        { equipamento: "Halteres", exercicio: "Passada (avan√ßo)", foco: "For√ßa" ,foco: "Crescimento" },
        { equipamento: "Barra", exercicio: "Agachamento livre pesado", foco: "For√ßa ", foco:" Crescimento" },
    { equipamento: "Kettlebell",  exercicio: "Goblet squat / Swing", foco: "Funcional" ,foco: "For√ßa" },
    { equipamento: "El√°stico",  exercicio: "Agachamento com el√°stico", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "Esteira",  exercicio: "Caminhada inclinada", foco: "Aer√≥bico" ,foco: "Resist√™ncia" },
    { equipamento: "Esteira",  exercicio: "Corrida leve", foco: "Aer√≥bico" },
    { equipamento: "Corda",  exercicio: "Saltos simples", foco: "Aer√≥bico" ,foco: "Resist√™ncia" },
    { equipamento: "Corda",  exercicio: "Double unders", foco: "Aer√≥bico" ,foco: "Coordena√ß√£o" },
    { equipamento: "Corpo", exercicio: "Pistol squat", foco: "For√ßa" ,foco: "Mobilidade" },
    { equipamento: "Corda naval",  exercicio: "Ondas com agachamento", foco: "Aer√≥bico" ,foco: "For√ßa" }
],
ombros: [
    { equipamento: "Halteres",  exercicio: "Eleva√ß√£o lateral sentada", foco: "Resist√™ncia" },
    { equipamento: "Halteres", exercicio: "Desenvolvimento militar", foco: "For√ßa" ,foco: "Crescimento" },
    { equipamento: "Barra",  exercicio: "Desenvolvimento em p√©", foco: "For√ßa" },
    { equipamento: "El√°stico",  exercicio: "Eleva√ß√£o frontal", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "Kettlebell", exercicio: "Press alternado", foco: "Funcional" ,foco: "For√ßa" },
    { equipamento: "Kettlebell",  exercicio: "Turkish get-up", foco: "Funcional" ,foco: "Mobilidade" },
    { equipamento: "Corpo", exercicio: "Pike push-up", foco: "For√ßa" ,foco: "Resist√™ncia" },
    { equipamento: "Corpo",  exercicio: "Handstand push-up", foco: "For√ßa" ,foco: "Controle corporal" },
    { equipamento: "Corda naval",  exercicio: "Golpes laterais", foco: "Aer√≥bico" ,foco: "Funcional" }
],
costas: [
    { equipamento: "Halteres", exercicio: "Remada unilateral apoiada", foco: "Crescimento" ,foco: "For√ßa" },
    { equipamento: "Halteres",  exercicio: "Remada curvada", foco: "For√ßa" ,foco: "Crescimento" },
    { equipamento: "Barra",  exercicio: "Barra fixa pronada", foco: "For√ßa" ,foco: "Resist√™ncia" },
    { equipamento: "El√°stico", exercicio: "Remada sentada", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "El√°stico",  exercicio: "Puxada alta", foco: "Resist√™ncia" ,foco: "Funcional" },
    { equipamento: "Kettlebell",  exercicio: "Remada com kettlebell", foco: "For√ßa" ,foco: "Funcional" },
    { equipamento: "Corpo",  exercicio: "Muscle-up", foco: "For√ßa" ,foco: "Crescimento" },
    { equipamento: "Corda naval", exercicio: "Ondas alternadas", foco: "Aer√≥bico" ,foco: "Resist√™ncia" }
],
peito: [
    { equipamento: "Halteres",  exercicio: "Supino reto leve", foco: "Crescimento" },
    { equipamento: "Halteres",  exercicio: "Supino inclinado", foco: "Crescimento" ,foco: "For√ßa" },
    { equipamento: "Barra",  exercicio: "Supino pesado", foco: "For√ßa" ,foco: "Crescimento" },
    { equipamento: "El√°stico", exercicio: "Crucifixo com el√°stico", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "Kettlebell", exercicio: "Supino no ch√£o", foco: "Funcional" ,foco: "For√ßa" },
    { equipamento: "Corpo",  exercicio: "Flex√£o inclinada", foco: "Resist√™ncia" },
    { equipamento: "Corpo", exercicio: "Flex√£o tradicional", foco: "Resist√™ncia" ,foco: "For√ßa" },
    { equipamento: "Corpo", exercicio: "Flex√£o com palmas", foco: "For√ßa" ,foco: "Explos√£o" },
    { equipamento: "Corda naval",  exercicio: "Golpes cruzados", foco: "Aer√≥bico" ,foco: "Funcional" }
],
biceps: [
    { equipamento: "Halteres",  exercicio: "Rosca alternada", foco: "Resist√™ncia" },
    { equipamento: "Halteres", exercicio: "Rosca martelo", foco: "Crescimento" ,foco: "For√ßa" },
    { equipamento: "Barra",  exercicio: "Rosca direta pesada", foco: "For√ßa" },
    { equipamento: "El√°stico",  exercicio: "Rosca com el√°stico", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "Kettlebell",  exercicio: "Rosca neutra", foco: "For√ßa" ,foco: "Funcional" },
    { equipamento: "Corpo",  exercicio: "Chin-up", foco: "For√ßa" ,foco: "Crescimento" }
],
triceps: [
    { equipamento: "Halteres", exercicio: "Coice de tr√≠ceps", foco: "Resist√™ncia" },
    { equipamento: "Halteres",  exercicio: "Tr√≠ceps franc√™s", foco: "Crescimento" },
    { equipamento: "Barra",  exercicio: "Tr√≠ceps testa", foco: "For√ßa" ,foco: "Crescimento" },
    { equipamento: "El√°stico", exercicio: "Extens√£o com el√°stico", foco: "Mobilidade" ,foco: "Resist√™ncia" },
    { equipamento: "Kettlebell",  exercicio: "Extens√£o acima da cabe√ßa", foco: "For√ßa" ,foco: "Funcional" },
    { equipamento: "Corpo", exercicio: "Paralelas (dips)", foco: "For√ßa" ,foco: "Resist√™ncia" },
    { equipamento: "Corda naval",  exercicio: "Ondas curtas", foco: "Resist√™ncia" ,foco: "Aer√≥bico" }
]
    };

    // ================================
    // üîπ LER EQUIPAMENTOS DO FIRESTORE
    // ================================
    let equipamentosUsuario = [];

    auth.onAuthStateChanged(async (user) => {
      if (!user) {
        console.log("Usu√°rio n√£o autenticado");
        return;
      }

      const docRef = db.collection("usuarios").doc(user.uid);
      const docSnap = await docRef.get();

      if (docSnap.exists) {
        const data = docSnap.data();
        equipamentosUsuario = data.equipamentos || []; // ["Halteres", "El√°stico", etc.]
        console.log("Equipamentos do usu√°rio:", equipamentosUsuario);
      } else {
        console.log("Nenhum equipamento encontrado para este usu√°rio.");
      }
    });

    // ================================
    // üîπ FUN√á√ÉO - TREINO DO DIA
    // ================================
    function mostrarProximoTreino() {
      const treinos = ["Treino A", "Treino B", "Treino C"];
      let ultimo = localStorage.getItem("ultimoTreino");

      let proximo;
      if (!ultimo || !treinos.includes(ultimo)) {
        proximo = treinos[0];
      } else {
        let indice = treinos.indexOf(ultimo);
        proximo = treinos[(indice + 1) % treinos.length];
      }

      localStorage.setItem("ultimoTreino", proximo);
      document.getElementById("treinoDoDia").textContent = `Treino do dia: ${proximo}`;
      mostrarExerciciosTreino(proximo);
    }

    // ================================
    // üîπ MOSTRAR EXERC√çCIOS COMPAT√çVEIS
    // ================================
    function mostrarExerciciosTreino(treinoDoDia) {
      const container = document.getElementById("exerciciosContainer");
      container.innerHTML = "<h2>Exerc√≠cios dispon√≠veis:</h2>";

      // Define os grupos musculares de cada treino
      let gruposSelecionados = [];
      if (treinoDoDia === "Treino A") gruposSelecionados = ["peito", "triceps"];
      if (treinoDoDia === "Treino B") gruposSelecionados = ["costas", "biceps"];
      if (treinoDoDia === "Treino C") gruposSelecionados = ["pernas", "ombros"];

      let total = 0;

      gruposSelecionados.forEach(grupo => {
        const lista = exercicios[grupo].filter(ex =>
          equipamentosUsuario.includes(ex.equipamento)
        );

        if (lista.length > 0) {
          const grupoDiv = document.createElement("div");
          grupoDiv.innerHTML = `<h3>${grupo.toUpperCase()}</h3>`;

          lista.forEach(ex => {
            const item = document.createElement("p");
            item.textContent = `üèãÔ∏è‚Äç‚ôÇÔ∏è ${ex.exercicio} (${ex.equipamento}) - ${ex.foco}`;
            grupoDiv.appendChild(item);
          });

          container.appendChild(grupoDiv);
          total += lista.length;
        }
      });

      if (total === 0) {
        container.innerHTML += "<p>Nenhum exerc√≠cio compat√≠vel com seus equipamentos.</p>";
      }
    }

    
  </script>
</body>
</html>
